{"version":3,"sources":["app.js"],"names":["ajax","XMLHttpRequest","news_url","content_url","container_tg","document","getElementById","template","store","iCurrentPage","GetData","_url","open","send","JSON","parse","response","NewsFead_code","MAX_PAGE_LIST_CNT","newsFead","newsList","i","push","id","title","comments_count","replace","join","innerHTML","NewsDetail","location","hash","substr","newsContent","Router","routePath","indexOf","Number","window","addEventListener"],"mappings":"AAAA,IAAMA,IAAI,GAAG,IAAIC,cAAc,EAAE,CAAC,CAAC;;AAEnC,IAAMC,QAAQ,GAAG,sCAAsC;AACvD,IAAMC,WAAW,GAAG,wCAAwC;AAC5D,IAAMC,YAAY,GAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC;AACpD,IAAIC,QAAQ,8VAWX;AAGD,IAAMC,KAAK,GAAG;EACVC,YAAY,EAAG;AACnB,CAAC;AAGD,SAASC,OAAO,CAACC,IAAI,EAAC;EAClBX,IAAI,CAACY,IAAI,CAAC,KAAK,EAAED,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;EAC/BX,IAAI,CAACa,IAAI,EAAE,EAAC;EACZ,OAAOC,IAAI,CAACC,KAAK,CAACf,IAAI,CAACgB,QAAQ,CAAC,CAAC,CAAC;AACtC;;AAEA,SAASC,aAAa,GAAE;EACpB,IAAMC,iBAAiB,GAAG,EAAE;EAC5B,IAAMC,QAAQ,GAAGT,OAAO,CAACR,QAAQ,CAAC;EAClC,IAAMkB,QAAQ,GAAG,EAAE;EAEnB,KAAK,IAAIC,CAAC,GAAG,CAACb,KAAK,CAACC,YAAY,GAAG,CAAC,IAAIS,iBAAiB,EAAEG,CAAC,GAAGb,KAAK,CAACC,YAAY,GAAGS,iBAAiB,EAAE,EAAEG,CAAC,EAAE;IACxGD,QAAQ,CAACE,IAAI,gDAEKH,QAAQ,CAACE,CAAC,CAAC,CAACE,EAAE,8BAC1BJ,QAAQ,CAACE,CAAC,CAAC,CAACG,KAAK,cAAIL,QAAQ,CAACE,CAAC,CAAC,CAACI,cAAc,sCAGvD;EACF;EAAC;EAEDlB,QAAQ,GAAGA,QAAQ,CAACmB,OAAO,CAAC,mBAAmB,EAAEN,QAAQ,CAACO,IAAI,CAAC,EAAE,CAAC,CAAC;EACnEpB,QAAQ,GAAGA,QAAQ,CAACmB,OAAO,CAAC,mBAAmB,EAAElB,KAAK,CAACC,YAAY,GAAG,CAAC,GAAGD,KAAK,CAACC,YAAY,GAAG,CAAC,GAAG,CAAC,CAAC;EACrGF,QAAQ,GAAGA,QAAQ,CAACmB,OAAO,CAAC,mBAAmB,EAAElB,KAAK,CAACC,YAAY,GAAG,CAAC,CAAC;EAExEL,YAAY,CAACwB,SAAS,GAAGrB,QAAQ;AACrC;AAAC;AAED,SAASsB,UAAU,GAAG;EAClB,IAAMN,EAAE,GAAGO,QAAQ,CAACC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;EACpC,IAAMC,WAAW,GAAGvB,OAAO,CAACP,WAAW,CAACuB,OAAO,CAAC,KAAK,EAAEH,EAAE,CAAC,CAAC;EAC3DnB,YAAY,CAACwB,SAAS,2BACZK,WAAW,CAACT,KAAK,gEAEDhB,KAAK,CAACC,YAAY,0DAE3C;AACL;AAAC;AAED,SAASyB,MAAM,GAAE;EACb,IAAMC,SAAS,GAAGL,QAAQ,CAACC,IAAI;EAC/B,IAAI,EAAE,KAAKI,SAAS,EAAC;IACjBlB,aAAa,EAAE;EACnB,CAAC,MACI,IAAGkB,SAAS,CAACC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC;IACtC5B,KAAK,CAACC,YAAY,GAAG4B,MAAM,CAACF,SAAS,CAACH,MAAM,CAAC,CAAC,CAAC,CAAC;IAChDf,aAAa,EAAE;EACnB,CAAC,MACG;IACAY,UAAU,EAAE;EAChB;AACJ;;AAEA;;AAEAS,MAAM,CAACC,gBAAgB,CAAC,YAAY,EAAEL,MAAM,CAAC;AAE7CA,MAAM,EAAE;;AAER","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const ajax = new XMLHttpRequest(); // 네트워크 너머에 있는 도구를 가져온다.\r\n\r\nconst news_url = 'https://api.hnpwa.com/v0/news/1.json';\r\nconst content_url = \"https://api.hnpwa.com/v0/item/@id.json\";\r\nconst container_tg = document.getElementById(\"root\");\r\nlet template = `\r\n    <div class=\"container mx_auto p-4\">\r\n        <h1>News!</h1>\r\n        <ul>\r\n            {{__news_feed__}}\r\n        </ul> \r\n        <div>\r\n            <a href=\"#/page/{{__prev_page__}}\">이전 페이지</a>\r\n            <a href=\"#/page/{{__next_page__}}\">다음 페이지</a>\r\n        </div>\r\n    </div>\r\n`;\r\n\r\n\r\nconst store = { \r\n    iCurrentPage : 1\r\n};\r\n\r\n\r\nfunction GetData(_url){\r\n    ajax.open('GET', _url, false); // false : 동기적\r\n    ajax.send() // 데이터 가져오기\r\n    return JSON.parse(ajax.response); // JSON 형태로 변환\r\n}\r\n\r\nfunction NewsFead_code(){\r\n    const MAX_PAGE_LIST_CNT = 10;\r\n    const newsFead = GetData(news_url);\r\n    const newsList = [];\r\n    \r\n    for (let i = (store.iCurrentPage - 1) * MAX_PAGE_LIST_CNT; i < store.iCurrentPage * MAX_PAGE_LIST_CNT; ++i) {\r\n        newsList.push(`\r\n    <li>\r\n        <a href=\"#/show/${newsFead[i].id}\">\r\n            ${newsFead[i].title}(${newsFead[i].comments_count})\r\n        </a>\r\n    </li>\r\n    `);\r\n    };\r\n\r\n    template = template.replace(\"{{__news_feed__}}\", newsList.join(''));\r\n    template = template.replace(\"{{__prev_page__}}\", store.iCurrentPage > 1 ? store.iCurrentPage - 1 : 1);\r\n    template = template.replace(\"{{__next_page__}}\", store.iCurrentPage + 1);\r\n\r\n    container_tg.innerHTML = template;\r\n};\r\n\r\nfunction NewsDetail() {\r\n    const id = location.hash.substr(7); // 1부터 마지막 인덱스 영역까지 자르기\r\n    const newsContent = GetData(content_url.replace(\"@id\", id));\r\n    container_tg.innerHTML = `\r\n        <h1>${newsContent.title}</h1>\r\n        <div>\r\n            <a href=\"#/page/${store.iCurrentPage}\">목록으로</a>\r\n        </div>\r\n    `;\r\n};\r\n\r\nfunction Router(){\r\n    const routePath = location.hash;\r\n    if ('' === routePath){\r\n        NewsFead_code();\r\n    }\r\n    else if(routePath.indexOf(\"#/page/\") >= 0){\r\n        store.iCurrentPage = Number(routePath.substr(7));\r\n        NewsFead_code();\r\n    }\r\n    else{\r\n        NewsDetail();\r\n    }\r\n}\r\n\r\n// location 객체는 브라우저가 기본으로 제공해주는 객체 : 주소와 관련된 다양한 정보를 제공함.\r\n\r\nwindow.addEventListener('hashchange', Router);\r\n\r\nRouter();\r\n\r\n//a_tg.addEventListener('click', function() {});"]}